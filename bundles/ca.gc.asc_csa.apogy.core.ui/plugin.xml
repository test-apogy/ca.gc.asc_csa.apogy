<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.views">
      <category
            id="org.eclipse.symphony.core.ui.category"
            name="Symphony Core">
      </category>
      <view
            category="org.eclipse.symphony.core.ui.category"
            class="org.eclipse.symphony.core.ui.views.MovableTrajectoryView"
            id="org.eclipse.symphony.core.ui.views.MovableTrajectoryView"
            name="Movable Trajectory View"
            restorable="true">
      </view>
      <view
            category="org.eclipse.symphony.core.ui.category"
            class="org.eclipse.symphony.core.ui.views.SymphonyEnvironmentTimeSourcesView"
            icon="icons/eview16/time_sources_view.gif"
            id="org.eclipse.symphony.core.ui.view1"
            name="Time Source"
            restorable="true">
      </view>
      <view
            category="org.eclipse.symphony.core.ui.category"
            class="org.eclipse.symphony.core.ui.views.DataProductsListsContainerView"
            icon="platform:/plugin/org.eclipse.symphony.core.invocator.edit/icons/full/obj16/DataProductsListsContainer.gif"
            id="org.eclipse.symphony.core.ui.views.DataProductsListsContainerView"
            name="Data Products"
            restorable="true">
      </view>      
   </extension>
   
   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
      <propertyTabs
            contributorId="org.eclipse.symphony.common.ui.property.properties.ExtendedTabbedPropertySheetPage.Contributor">
         <propertyTab
               category="org.eclipse.symphony.core.ui.property.category.Default"
               id="org.eclipse.symphony.core.ui.property.tab.SymphonySystem3dViewer"
               label="3D">
         </propertyTab>
      </propertyTabs>
   </extension>
   
   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertyTabs">
      <propertyTabs
            contributorId="org.eclipse.symphony.common.ui.property.properties.ExtendedTabbedPropertySheetPage.Contributor">
         <propertyTab
               category="org.eclipse.symphony.core.ui.property.category.Default"
               id="org.eclipse.symphony.core.ui.property.tabs.TimeSourcesList"
               label="Time Sources">
         </propertyTab>
      </propertyTabs>
   </extension>

   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertySections">
      <propertySections
            contributorId="org.eclipse.symphony.common.ui.property.properties.ExtendedTabbedPropertySheetPage.Contributor">
          <propertySection
               class="org.eclipse.symphony.core.ui.properties.sections.TimeSourcesListSection"
               filter="org.eclipse.symphony.core.ui.properties.sections.TimeSourcesListSection"
               id="org.eclipse.symphony.core.ui.properties.sections.TimeSourcesListSection"
               tab="org.eclipse.symphony.core.ui.property.tabs.TimeSourcesList">
         </propertySection>
      </propertySections>
   </extension>
      
   <extension
         point="org.eclipse.ui.views.properties.tabbed.propertyContributor">
      <propertyContributor
            contributorId="org.eclipse.symphony.common.ui.property.properties.ExtendedTabbedPropertySheetPage.Contributor">
         <propertyCategory
               category="org.eclipse.symphony.core.ui.property.category.Default">
         </propertyCategory>
      </propertyContributor>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <wizard
            category="org.eclipse.symphony.core.ui"
            class="org.eclipse.symphony.core.ui.wizards.NewSymphonyProjectWizard"
            icon="icons/sample.gif"
            id="org.eclipse.symphony.core.ui.wizards.NewSymphonyProjectWizard"
            name="New Symphony Project"
            project="true">
      </wizard>
      <wizard
            category="org.eclipse.symphony.core.ui"
            class="org.eclipse.symphony.core.ui.wizards.NewSymphonySessionWizard"
            icon="icons/sample.gif"
            id="org.eclipse.symphony.core.ui.wizards.NewSymphonySessionWizard"
            name="New Symphony Session">
      </wizard>
      <wizard
            category="org.eclipse.symphony.core.ui"
            class="org.eclipse.symphony.core.ui.wizards.NewSymphonySystemWizard"
            icon="icons/sample.gif"
            id="org.eclipse.symphony.core.ui.wizards.NewSymphonySystemWizard"
            name="New Symphony System">
      </wizard>      
   </extension>
   
   <extension point="org.eclipse.emf.ecore.generated_package">
      <!-- @generated symphony_core_ui -->
      <package
            uri="org.eclipse.symphony.core.ui"
            class="org.eclipse.symphony.core.ui.Symphony__CoreUIPackage"
            genModel="model/symphony_core_ui.xcore"/>
   </extension>
   <extension
         point="org.eclipse.symphony.common.topology.ui.presentation">
      <Class
            Class="org.eclipse.symphony.core.ui.ResultNodePresentationAdapter">
      </Class>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <command
            description="Toggles the enabled flag of a PoseCorrector."
            id="org.eclipse.symphony.core.ui.commands.TogglePoseCorrectorEnabledCommand"
            name="TogglePoseCorrectorEnabledCommand">
      </command>
      <command
            defaultHandler="org.eclipse.symphony.core.ui.commands.LoadFeatureOfInterestFromFile"
            id="org.eclipse.symphony.core.ui.commands.LoadFeatureOfInterestFromFile"
            name="Load Feature Of Interest From File">
      </command>
      <command
            defaultHandler="org.eclipse.symphony.core.ui.commands.SaveFeatureOfInterestToFile"
            id="org.eclipse.symphony.core.ui.commands.SaveFeatureOfInterestToFile"
            name="Save Feature Of Interest To File">
      </command>
      <command
            defaultHandler="org.eclipse.symphony.core.ui.commands.CreateUserDefinedResult"
            id="org.eclipse.symphony.core.ui.commands.CreateUserDefinedResult"
            name="Create User Defined Result">
      </command>
      <command
            defaultHandler="org.eclipse.symphony.core.ui.commands.UpdatableUpdateCommandHandler"
            description="Commands the Update of an Updatable."
            id="org.eclipse.symphony.core.ui.commands.UpdatableUpdate"
            name="Update">
      </command>
      <command
            defaultHandler="org.eclipse.symphony.core.ui.commands.ToggleUpdatableAutoUpdateEnableCommandHandler"
            description="Toggles the Update AutoUpdate setting."
            id="org.eclipse.symphony.core.ui.commands.UpdatableToggleAutoUpdate"
            name="Toggle Auto Update">
      </command>
   </extension>
      <extension
         point="org.eclipse.ui.menus">
      <menuContribution
           locationURI="popup:org.eclipse.ui.popup.any?after=additions">
           <menu
              id="org.eclipse.symphony.core.ui.menu"
              label="Symphony">
           </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="true"
            locationURI="popup:org.eclipse.symphony.core.ui.menu?after=additions">
         <command
               commandId="org.eclipse.symphony.core.ui.commands.TogglePoseCorrectorEnabledCommand"
               label="Enable / Disable Pose Corrector"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                    variable="activeMenuSelection">
                  <iterate
                     ifEmpty="false"
                     operator="or">
                       <and>
                           <instanceof
                                 value="org.eclipse.symphony.core.invocator.Variable">
                           </instanceof>
                           <test
                                 forcePluginActivation="true"
                                 property="org.eclipse.symphony.core.ui.instanceOfSymphonySystem">
                           </test>
                       </and>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.symphony.core.ui.commands.LoadFeatureOfInterestFromFile"
               label="Load Feature Of Interest From File"
               style="push">
            <visibleWhen
                  checkEnabled="false">   
               <with
                    variable="activeMenuSelection">
                  <iterate
                     ifEmpty="false"
                     operator="or">
                       <instanceof
                             value="org.eclipse.symphony.core.FeatureOfInterestList">
                       </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.symphony.core.ui.commands.SaveFeatureOfInterestToFile"
               label="Save Feature Of Interest To File"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                    variable="activeMenuSelection">
                  <iterate
                     ifEmpty="false"
                     operator="or">
                        <instanceof
                            value="org.eclipse.symphony.core.FeatureOfInterestList">
                        </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.symphony.core.ui.commands.CreateUserDefinedResult"
               label="Create User-Defined Result"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                    variable="activeMenuSelection">
                  <iterate
                      ifEmpty="false"
                      operator="or">
                        <instanceof
                             value="org.eclipse.symphony.core.invocator.DataProductsList">
                        </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.symphony.core.ui.commands.UpdatableUpdate"
               label="Update"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                    variable="activeMenuSelection">
                  <iterate
                      ifEmpty="false"
                      operator="or">
                       <instanceof
                           value="org.eclipse.symphony.core.Updatable">
                       </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>
         <command
               commandId="org.eclipse.symphony.core.ui.commands.UpdatableToggleAutoUpdate"
               label="Toggle Auto Update"
               style="push">
            <visibleWhen
                  checkEnabled="false">
               <with
                    variable="activeMenuSelection">
                  <iterate
                      ifEmpty="false"
                      operator="or">
                     <instanceof
                           value="org.eclipse.symphony.core.Updatable">
                     </instanceof>
                  </iterate>
               </with>
            </visibleWhen>
         </command>         
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="org.eclipse.symphony.core.ui.preferences.SymphonyCorePreferencesInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="org.eclipse.symphony.core.ui.preferences.SymphonyCorePreferencesPage"
            id="org.eclipse.symphony.core.ui.preferences.SymphonyCorePreferencesPage"
            name="Symphony">
      </page>
      <page
            category="org.eclipse.symphony.common.topology.ui.viewer.preferences.TopologyViewerPreferencesPage"
            class="org.eclipse.symphony.core.ui.preferences.SymphonyCoreNodesPreferencesPage"
            id="org.eclipse.symphony.core.ui.preferences.SymphonyCoreNodesPreferencesPage"
            name="Results">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.expressions.propertyTesters">
      <propertyTester
            class="org.eclipse.symphony.core.ui.commands.SymphonySystemVariableInstancePropertyTester"
            id="org.eclipse.symphony.core.ui.commands.SymphonySystemVariableInstancePropertyTester"
            namespace="org.eclipse.symphony.core.ui"
            properties="instanceOfSymphonySystem"
            type="org.eclipse.symphony.core.invocator.Variable">
      </propertyTester>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.eclipse.symphony.core.ui.commands.TogglePoseCorrectorEnabledCommandHandler"
            commandId="org.eclipse.symphony.core.ui.commands.TogglePoseCorrectorEnabledCommand">
         <enabledWhen>
            <with
                 variable="activeMenuSelection">
               <iterate
                  ifEmpty="false"
                  operator="or">
                   <test
                        forcePluginActivation="true"
                        property="org.eclipse.symphony.core.ui.instanceOfSymphonySystem">
                   </test>
               </iterate>
            </with>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.ide.projectNatureImages">
      <image
            icon="icons/ovr/symphony_7x8.gif"
            id="org.eclipse.symphony.core.ui.projectNatureImages"
            natureId="org.eclipse.symphony.core.ui.natures.SymphonyNature">
      </image>
   </extension>
   <extension
         id="org.eclipse.symphony.core.ui.natures.SymphonyNature"
         name="Symphony"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.eclipse.symphony.core.ui.natures.SymphonyProjectNature">
         </run>
      </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            adaptable="true"
            class="org.eclipse.symphony.core.ui.decorators.UpdatableDecorator"
            id="org.eclipse.symphony.core.ui.decorator1"
            label="Updatable"
            lightweight="true"
            state="true">
         <enablement>
            <objectClass
                  name="org.eclipse.symphony.core.Updatable">
            </objectClass>
         </enablement>
      </decorator>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <wizard
            category="org.eclipse.symphony.core.ui"
            class="org.eclipse.symphony.core.ui.wizards.ImportSymphonyWorksiteWizard"
            icon="icons/symphony_logo_16x16.gif"
            id="org.eclipse.symphony.core.ui.wizards.ImportWorksiteWizard"
            name="Symphony Worksite">
         <description>
            This wizard allows to import a registered worksite into the active Symphony session.
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.symphony.common.converters">
      <new_element
            Class="org.eclipse.symphony.core.ui.converters.PositionedResultToNodeConverter">
      </new_element>
   </extension>   
</plugin>
