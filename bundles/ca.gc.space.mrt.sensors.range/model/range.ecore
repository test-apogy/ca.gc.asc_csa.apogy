<?xml version="1.0" encoding="UTF-8"?>
<ecore:EPackage xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" name="range" nsURI="http:///ca/gc/space/mrt/sensors/range/model/range.ecore"
    nsPrefix="ca.gc.space.mrt.sensors.range">
  <eClassifiers xsi:type="ecore:EClass" name="RangeSensor" eSuperTypes="platform:/plugin/ca.gc.space.mrt.sensors/model/sensors.ecore#//Sensor"/>
  <eClassifiers xsi:type="ecore:EClass" name="ContactSensor" eSuperTypes="#//RangeSensor">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="contacted" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SimpleRangeSensor" eSuperTypes="#//RangeSensor">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="distanceMeasured" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EDouble"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SimpleSonar" eSuperTypes="#//SimpleRangeSensor">
    <eOperations name="getFieldOfView" eType="ecore:EClass platform:/plugin/ca.gc.space.mrt.sensors.fov/model/fov.ecore#//ConicalFieldOfView"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="echoDetected" lowerBound="1"
        eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="A field of view that is defined by one angle."/>
      </eAnnotations>
    </eStructuralFeatures>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="LineRangeScanner" eSuperTypes="#//RangeSensor">
    <eOperations name="getFieldOfView" eType="ecore:EClass platform:/plugin/ca.gc.space.mrt.sensors.fov/model/fov.ecore#//CircularSectorFieldOfView"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="angularResolution" lowerBound="1"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SimpleLineRangeScanner" eSuperTypes="#//LineRangeScanner">
    <eOperations name="acquireScan" lowerBound="1" eType="ecore:EDataType http://www.eclipse.org/emf/2002/Ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that performs the acquisition of one scan. Upon successfull completion of the scan acquisition, the scanData should be updated with the latest scan and the method should return true. If the acquisition fails to complete preoberly, false should be returned."/>
      </eAnnotations>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RangeScanner">
    <eTypeParameters name="InputType"/>
    <eGenericSuperTypes eClassifier="#//RangeSensor"/>
    <eGenericSuperTypes eClassifier="ecore:EClass platform:/plugin/ca.gc.space.mrt.common.processors/model/processors.ecore#//Processor">
      <eTypeArguments eTypeParameter="#//RangeScanner/InputType"/>
      <eTypeArguments eClassifier="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data25d/model/data25d.ecore#//VolumetricCoordinatesSet25D"/>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RangeScannerSimulator" abstract="true">
    <eTypeParameters name="InputType"/>
    <eOperations name="getCroppedMesh" eType="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data3d/model/data3d.ecore#//CartesianTriangularMesh">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that takes the mesh node and crops it to get only the part of the terrain that falls within the field of view of the sensor. This method is abstract and must be overloaded."/>
      </eAnnotations>
    </eOperations>
    <eOperations name="getSimulatedRays">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that returns the list of Ray Data that will be used to specify the position and direction of the simulated laser rays. This method is abstract and must be overloaded."/>
      </eAnnotations>
      <eGenericType eClassifier="ecore:EDataType platform:/plugin/ca.gc.space.mrt.geometry.data/model/geometrydata.ecore#//List">
        <eTypeArguments eClassifier="#//RayData"/>
      </eGenericType>
    </eOperations>
    <eOperations name="acquireData" eExceptions="ecore:EDataType platform:/plugin/ca.gc.space.mrt.common.processors/model/processors.ecore#//Exception"/>
    <eOperations name="applyOrientationNoise" eType="#//RayData">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that applies orientation noise on the original ray data. This method is abstact and should be overloaded."/>
      </eAnnotations>
      <eParameters name="rayData" eType="#//RayData">
        <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
          <details key="documentation" value="The original clean ray data (as produced by the getSimulatedRays() method)."/>
        </eAnnotations>
      </eParameters>
    </eOperations>
    <eOperations name="applyRangeNoise" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that applies range noise on the actual measured range. This method is abstract and should be overloaded."/>
      </eAnnotations>
      <eParameters name="range" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble">
        <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
          <details key="documentation" value="The measured range (using the noisy ray data)."/>
        </eAnnotations>
      </eParameters>
      <eParameters name="cleanRayData" eType="#//RayData">
        <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
          <details key="documentation" value="The original clean ray data (as produced by the getSimulatedRays() method)."/>
        </eAnnotations>
      </eParameters>
      <eParameters name="noisyRayData" eType="#//RayData">
        <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
          <details key="documentation" value="The noisy ray data that was used to measure the range."/>
        </eAnnotations>
      </eParameters>
    </eOperations>
    <eOperations name="createCoordinates25D" eType="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data25d/model/data25d.ecore#//Coordinates25D">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Method that construct the Coordinates25D from ray data and range. This Coordinates25D is then added to the simulated point cloud. This method is abstract and should be overloaded."/>
      </eAnnotations>
      <eParameters name="rayData" eType="#//RayData">
        <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
          <details key="documentation" value="The clean ray data that was used to produce the noisy range value. The ray data is the ray position and orientation returned by the  getSimulatedRays() method."/>
        </eAnnotations>
      </eParameters>
      <eParameters name="range" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
    </eOperations>
    <eStructuralFeatures xsi:type="ecore:EReference" name="meshNode">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="The ContentNode where the simulated terrain mesh is found. Note that a topology path between this node and the RangeScannerSimulator must exist (both the RangeScannerSimulator and terrain mesh must be part of the same topology)."/>
      </eAnnotations>
      <eGenericType eClassifier="ecore:EClass platform:/plugin/ca.gc.space.topology.core/model/topology.ecore#//ContentNode">
        <eTypeArguments eClassifier="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data3d/model/data3d.ecore#//CartesianTriangularMesh"/>
      </eGenericType>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="noiseEnabled" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Flag indicating wether or not noise is to be applied to the simulated results. Setting this flag to true will enable the calls to the applyOrientationNoise() and applyRangeNoise() methods."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="timeCroppingMesh" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//ELong">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="The time (in milliseconds) required by the getCroppedMesh() method."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="timeFindingIntersections"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//ELong">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="The time (in milliseconds) required to find the intersection between the simulated rays and the terrain mesh."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="timeGettingSimulatedRays"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//ELong">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="The time (in milliseconds) required by the getSimulatedRays() method."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eGenericSuperTypes eClassifier="#//RangeScanner">
      <eTypeArguments eTypeParameter="#//RangeScannerSimulator/InputType"/>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RayData">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="origin" eType="ecore:EDataType platform:/plugin/ca.gc.space.mrt.geometry.data3d/model/data3d.ecore#//Point3d"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="direction" eType="ecore:EDataType platform:/plugin/ca.gc.space.mrt.geometry.data/model/geometrydata.ecore#//Vector3d"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RasterScanRangeSensor">
    <eOperations name="getScanSettings" eType="#//RasterScanSettings"/>
    <eGenericSuperTypes eClassifier="#//RangeScanner">
      <eTypeArguments eClassifier="#//RasterScanSettings"/>
    </eGenericSuperTypes>
    <eGenericSuperTypes eClassifier="ecore:EClass platform:/plugin/ca.gc.space.mrt.common.processors/model/processors.ecore#//Processor">
      <eTypeArguments eClassifier="#//RasterScanSettings"/>
      <eTypeArguments eClassifier="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data25d/model/data25d.ecore#//VolumetricCoordinatesSet25D"/>
    </eGenericSuperTypes>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SimpleRasterScanRangeScanner" eSuperTypes="#//RasterScanRangeSensor"/>
  <eClassifiers xsi:type="ecore:EClass" name="SimpleRasterScanRangeScannerSimulator">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="rangeNoiseAmplitude" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"
        defaultValueLiteral="0"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="azimuthNoiseAmplitude"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="elevationNoiseAmplitude"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="horizonDetectionEnabled"
        eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EBoolean">
      <eAnnotations source="http://www.eclipse.org/emf/2002/GenModel">
        <details key="documentation" value="Enables the detection of the horizon to speed up processing. Horizon detection stop the elevation scanning motion when one missing return is detected. Note that enabling this feature could lead to incomplete results when the terrain includes overhangs."/>
      </eAnnotations>
    </eStructuralFeatures>
    <eGenericSuperTypes eClassifier="#//RangeScannerSimulator">
      <eTypeArguments eClassifier="#//RasterScanSettings"/>
    </eGenericSuperTypes>
    <eGenericSuperTypes eClassifier="#//SimpleRasterScanRangeScanner"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RasterScanSettings" eSuperTypes="platform:/plugin/ca.gc.space.mrt.sensors.fov/model/fov.ecore#//RectangularFrustrumFieldOfView">
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="verticalResolution" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="horizontalResolution" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"/>
    <eStructuralFeatures xsi:type="ecore:EAttribute" name="numberOfPoints" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"
        changeable="false" volatile="true" transient="true" defaultValueLiteral="0"
        derived="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="SensorsRangeFacade">
    <eOperations name="createRasterScanSettings" eType="#//RasterScanSettings">
      <eParameters name="minimumDistance" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
      <eParameters name="maximumDistance" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
      <eParameters name="horizontalFieldOfViewAngle" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
      <eParameters name="verticalFieldOfViewAngle" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EDouble"/>
      <eParameters name="horizontalResolution" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"/>
      <eParameters name="verticalResolution" eType="ecore:EDataType platform:/plugin/org.eclipse.emf.ecore/model/Ecore.ecore#//EInt"/>
    </eOperations>
    <eOperations name="createRasterScanSettings" eType="#//RasterScanSettings">
      <eParameters name="rasterScanSettings" eType="#//RasterScanSettings"/>
    </eOperations>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EClass" name="RasterScanData" eSuperTypes="platform:/plugin/ca.gc.space.topology.core/model/topology.ecore#//AggregateGroupNode platform:/plugin/ca.gc.space.mrt.common/model/mrt_common.ecore#//TimeTaggedElement">
    <eStructuralFeatures xsi:type="ecore:EReference" name="rasterScanSettings" eType="#//RasterScanSettings"
        containment="true"/>
    <eStructuralFeatures xsi:type="ecore:EReference" name="scanData" eType="ecore:EClass platform:/plugin/ca.gc.space.mrt.geometry.data25d/model/data25d.ecore#//VolumetricCoordinatesSet25D"
        containment="true"/>
  </eClassifiers>
  <eClassifiers xsi:type="ecore:EDataType" name="List" instanceClassName="java.util.List">
    <eTypeParameters name="T"/>
  </eClassifiers>
</ecore:EPackage>
